---
import GuideLayout from '../../layouts/GuideLayout.astro';

const toc = [
  { title: 'Introduction', href: '#introduction' },
  { title: 'Getting Started', href: '#getting-started' },
  { title: 'Components', href: '#components' },
  { title: 'Props & State', href: '#props-state' },
  { title: 'Hooks', href: '#hooks' },
  { title: 'Event Handling', href: '#events' },
  { title: 'Conditional Rendering', href: '#conditional' },
  { title: 'Lists & Keys', href: '#lists' },
  { title: 'Next Steps', href: '#next-steps' }
];
---

<GuideLayout
  title="React: Building Modern User Interfaces"
  description="Learn React from scratch. Master components, props, state, hooks, and build interactive user interfaces with the most popular frontend library."
  level="intermediate"
  readTime="35 min read"
  datePublished="2024-12-01"
  lastUpdated="December 2024"
  toc={toc}
>
  <p class="intro">
    React is a JavaScript library for building user interfaces. Created by Facebook, it's the most
    popular choice for modern web development, used by companies like Netflix, Airbnb, and Instagram.
  </p>

  <h2 id="introduction">Why React?</h2>
  <p>React has become the go-to choice for frontend development because:</p>
  <ul>
    <li><strong>Component-based:</strong> Build encapsulated, reusable UI pieces</li>
    <li><strong>Declarative:</strong> Describe what you want, React handles the DOM updates</li>
    <li><strong>Virtual DOM:</strong> Efficient updates for better performance</li>
    <li><strong>Huge ecosystem:</strong> Thousands of libraries, tools, and resources</li>
    <li><strong>Strong job market:</strong> Most in-demand frontend skill</li>
  </ul>

  <h3>React vs Vanilla JavaScript</h3>
  <pre><code>{`// Vanilla JavaScript - imperative
const button = document.createElement('button');
button.textContent = 'Clicks: 0';
let count = 0;
button.addEventListener('click', () => {
  count++;
  button.textContent = 'Clicks: ' + count;
});
document.body.appendChild(button);

// React - declarative
function Counter() {
  const [count, setCount] = useState(0);
  return (
    <button onClick={() => setCount(count + 1)}>
      Clicks: {count}
    </button>
  );
}`}</code></pre>

  <h2 id="getting-started">Getting Started</h2>
  <p>The easiest way to start a new React project is with Vite or Create React App:</p>

  <pre><code>{`# Using Vite (recommended)
npm create vite@latest my-app -- --template react
cd my-app
npm install
npm run dev

# Using Create React App
npx create-react-app my-app
cd my-app
npm start`}</code></pre>

  <h3>Project Structure</h3>
  <pre><code>{`my-app/
├── src/
│   ├── App.jsx        # Main component
│   ├── main.jsx       # Entry point
│   ├── index.css      # Global styles
│   └── components/    # Your components
├── public/            # Static assets
├── package.json       # Dependencies
└── vite.config.js     # Build configuration`}</code></pre>

  <h2 id="components">Components</h2>
  <p>
    Components are the building blocks of React applications. They're JavaScript functions
    that return JSX (HTML-like syntax in JavaScript).
  </p>

  <h3>Function Components</h3>
  <pre><code>{`// Simple component
function Welcome() {
  return <h1>Hello, World!</h1>;
}

// Component with JSX expressions
function Greeting() {
  const name = "Alice";
  const date = new Date().toLocaleDateString();

  return (
    <div>
      <h1>Hello, {name}!</h1>
      <p>Today is {date}</p>
    </div>
  );
}

// Using the component
function App() {
  return (
    <div>
      <Welcome />
      <Greeting />
    </div>
  );
}`}</code></pre>

  <h3>JSX Rules</h3>
  <ul>
    <li><strong>Single root element:</strong> Wrap multiple elements in a <code>&lt;div&gt;</code> or <code>&lt;&gt;...&lt;/&gt;</code></li>
    <li><strong>Close all tags:</strong> Including self-closing tags like <code>&lt;img /&gt;</code></li>
    <li><strong>camelCase attributes:</strong> <code>className</code> instead of <code>class</code>, <code>onClick</code> instead of <code>onclick</code></li>
    <li><strong>JavaScript in curly braces:</strong> <code>{`{expression}`}</code></li>
  </ul>

  <h2 id="props-state">Props & State</h2>
  <p>
    <strong>Props</strong> pass data from parent to child. <strong>State</strong> manages data that changes over time.
  </p>

  <h3>Props (Properties)</h3>
  <pre><code>{`// Parent passes props
function App() {
  return <UserCard name="Alice" role="Developer" />;
}

// Child receives props
function UserCard({ name, role }) {
  return (
    <div className="card">
      <h2>{name}</h2>
      <p>{role}</p>
    </div>
  );
}

// Props with default values
function Button({ text = "Click me", variant = "primary" }) {
  return <button className={variant}>{text}</button>;
}`}</code></pre>

  <h3>State with useState</h3>
  <pre><code>{`import { useState } from 'react';

function Counter() {
  // Declare state variable with initial value
  const [count, setCount] = useState(0);

  return (
    <div>
      <p>Count: {count}</p>
      <button onClick={() => setCount(count + 1)}>
        Increment
      </button>
      <button onClick={() => setCount(0)}>
        Reset
      </button>
    </div>
  );
}`}</code></pre>

  <h3>State with Objects</h3>
  <pre><code>{`function Form() {
  const [user, setUser] = useState({
    name: '',
    email: ''
  });

  const handleChange = (e) => {
    setUser({
      ...user,  // Keep existing values
      [e.target.name]: e.target.value  // Update changed field
    });
  };

  return (
    <form>
      <input
        name="name"
        value={user.name}
        onChange={handleChange}
        placeholder="Name"
      />
      <input
        name="email"
        value={user.email}
        onChange={handleChange}
        placeholder="Email"
      />
    </form>
  );
}`}</code></pre>

  <h2 id="hooks">Hooks</h2>
  <p>
    Hooks let you use state and other React features in function components.
  </p>

  <h3>useEffect - Side Effects</h3>
  <pre><code>{`import { useState, useEffect } from 'react';

function DataFetcher() {
  const [data, setData] = useState(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    // Runs after component mounts
    fetch('https://api.example.com/data')
      .then(res => res.json())
      .then(data => {
        setData(data);
        setLoading(false);
      });
  }, []); // Empty array = run once on mount

  if (loading) return <p>Loading...</p>;
  return <pre>{JSON.stringify(data, null, 2)}</pre>;
}`}</code></pre>

  <h3>Common Hooks</h3>
  <table>
    <thead>
      <tr>
        <th>Hook</th>
        <th>Purpose</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>useState</code></td>
        <td>Manage component state</td>
      </tr>
      <tr>
        <td><code>useEffect</code></td>
        <td>Side effects (data fetching, subscriptions)</td>
      </tr>
      <tr>
        <td><code>useContext</code></td>
        <td>Access context values</td>
      </tr>
      <tr>
        <td><code>useRef</code></td>
        <td>Reference DOM elements or persist values</td>
      </tr>
      <tr>
        <td><code>useMemo</code></td>
        <td>Memoize expensive calculations</td>
      </tr>
      <tr>
        <td><code>useCallback</code></td>
        <td>Memoize functions</td>
      </tr>
    </tbody>
  </table>

  <h2 id="events">Event Handling</h2>
  <pre><code>{`function EventExamples() {
  const handleClick = () => {
    alert('Button clicked!');
  };

  const handleSubmit = (e) => {
    e.preventDefault();  // Prevent form submission
    console.log('Form submitted');
  };

  const handleInput = (e) => {
    console.log('Input value:', e.target.value);
  };

  return (
    <div>
      <button onClick={handleClick}>Click Me</button>

      <form onSubmit={handleSubmit}>
        <input onChange={handleInput} />
        <button type="submit">Submit</button>
      </form>
    </div>
  );
}`}</code></pre>

  <h2 id="conditional">Conditional Rendering</h2>
  <pre><code>{`function Dashboard({ isLoggedIn, isAdmin }) {
  // Using ternary operator
  return (
    <div>
      {isLoggedIn ? (
        <h1>Welcome back!</h1>
      ) : (
        <h1>Please log in</h1>
      )}

      {/* Using && for conditional display */}
      {isAdmin && <button>Admin Panel</button>}
    </div>
  );
}

// Early return pattern
function UserProfile({ user }) {
  if (!user) {
    return <p>No user found</p>;
  }

  return (
    <div>
      <h1>{user.name}</h1>
      <p>{user.email}</p>
    </div>
  );
}`}</code></pre>

  <h2 id="lists">Lists & Keys</h2>
  <pre><code>{`function TodoList() {
  const [todos, setTodos] = useState([
    { id: 1, text: 'Learn React', done: false },
    { id: 2, text: 'Build a project', done: false },
    { id: 3, text: 'Deploy to production', done: false }
  ]);

  const toggleTodo = (id) => {
    setTodos(todos.map(todo =>
      todo.id === id ? { ...todo, done: !todo.done } : todo
    ));
  };

  return (
    <ul>
      {todos.map(todo => (
        <li
          key={todo.id}  // Always use unique keys!
          onClick={() => toggleTodo(todo.id)}
          style={{ textDecoration: todo.done ? 'line-through' : 'none' }}
        >
          {todo.text}
        </li>
      ))}
    </ul>
  );
}`}</code></pre>

  <div class="tip">
    <strong>Why Keys?</strong> Keys help React identify which items changed, were added, or removed.
    Always use stable, unique identifiers (like IDs), not array indices.
  </div>

  <h2 id="next-steps">Next Steps</h2>
  <p>You've learned the React fundamentals! Continue your journey:</p>

  <ul>
    <li><strong>React Router:</strong> Add navigation and multiple pages</li>
    <li><strong>State management:</strong> Redux, Zustand, or Context API for complex state</li>
    <li><strong>Styling:</strong> CSS Modules, Tailwind CSS, or styled-components</li>
    <li><strong>Next.js:</strong> Full-stack React framework with SSR</li>
    <li><strong>Testing:</strong> Jest and React Testing Library</li>
  </ul>

  <h3>Related Guides</h3>
  <ul>
    <li><a href="/guides/javascript">JavaScript Fundamentals</a></li>
    <li><a href="/guides/nodejs">Node.js Backend Development</a></li>
    <li><a href="/guides/api-design">API Design</a></li>
  </ul>

  <style>
    .intro {
      font-size: 1.125rem;
      color: var(--color-text-muted);
      border-left: 4px solid var(--color-primary);
      padding-left: 1rem;
      margin-bottom: 2rem;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin: 1.5rem 0;
    }

    th, td {
      padding: 0.75rem;
      text-align: left;
      border-bottom: 1px solid var(--color-border);
    }

    th {
      background: var(--color-bg-alt);
      font-weight: 600;
    }

    .tip {
      background: var(--color-bg-alt);
      border: 1px solid var(--color-border);
      border-radius: 8px;
      padding: 1rem;
      margin: 1.5rem 0;
    }
  </style>
</GuideLayout>
